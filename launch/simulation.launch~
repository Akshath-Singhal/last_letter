<!-- Launch file for the simulator core /-->

<launch>

	<arg name="clockSim" value="true"/>	<!-- Choose Reatime/Simulated clock /-->

	<!-- Initialization of the parameters -->
	<group>	
		<param if="$(arg clockSim)" name="use_sim_time" type="bool" value="true" />
		<node pkg="uav_model" name="parameters" type="AerosondeParameters.py" />
	</group>

	<!-- Initialization of the services -->
	<group>
		<node pkg="uav_model" name="c_lift_a_server" type="c_lift_a_server.py" />
		<node pkg="uav_model" name="c_drag_a_server" type="c_drag_a_server.py" />
		<node pkg="uav_model" name="calc_air_data_server" type="calc_air_data_server.py" />
		<node pkg="uav_model" name="calc_force_server" type="calc_force_server.py" />
		<node pkg="uav_model" name="calc_torque_server" type="calc_torque_server.py" />
	</group>
	
	<!-- Raising core nodes -->
	<group>
		<node pkg="rosbag" name="recorder" type="record" args="-o UAV_recording /sim/states /sim/wrenchStamped /sim/input"/>
		<node if="$(arg clockSim)" name="clock" pkg="uav_model" type="clock.py" />
		<node pkg="uav_model" name="plane_model" type="model.py" output="screen"/>
		<node pkg="uav_model" name="euler_translator" type="quat2euler.py" />
	</group>

	<!-- Transformations broadcaster /-->
	<group>
		<node pkg="uav_model" type="plane_publisher" name="broadcaster" />
	</group>

<?ignore
	<node pkg="joy" type="joy_node" name="joystick" output="screen" >
		<param name="dev" value="/dev/input/js1" />
	</node>

?>

</launch>
